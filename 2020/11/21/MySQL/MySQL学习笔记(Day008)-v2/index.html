<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/bking.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/bking.ico">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":{"disqus":{"text":"Load Disqus","order":-1},"gitalk":{"order":-2}}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="MySQL学习笔记（Day008：数据类型）-v2.0[TOC]">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL学习笔记(Day008）V2.0">
<meta property="og:url" content="http://example.com/2020/11/21/MySQL/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(Day008)-v2/index.html">
<meta property="og:site_name" content="Boo-BKing.">
<meta property="og:description" content="MySQL学习笔记（Day008：数据类型）-v2.0[TOC]">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-11-20T18:59:08.000Z">
<meta property="article:modified_time" content="2020-11-21T08:13:42.847Z">
<meta property="article:author" content="BKing">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2020/11/21/MySQL/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(Day008)-v2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>MySQL学习笔记(Day008）V2.0 | Boo-BKing.</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<link rel="alternate" href="/atom.xml" title="Boo-BKing." type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband" >
      <a target="_blank" rel="noopener" href="https://github.com/BKing2020" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    
    </div>
    
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Boo-BKing.</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">下雨 最爱听的旋律</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/21/MySQL/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(Day008)-v2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatat.png">
      <meta itemprop="name" content="BKing">
      <meta itemprop="description" content="记录 Book">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Boo-BKing.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MySQL学习笔记(Day008）V2.0
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-11-21 02:59:08 / 修改时间：16:13:42" itemprop="dateCreated datePublished" datetime="2020-11-21T02:59:08+08:00">2020-11-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>24k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>22 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="MySQL学习笔记（Day008：数据类型）-v2-0"><a href="#MySQL学习笔记（Day008：数据类型）-v2-0" class="headerlink" title="MySQL学习笔记（Day008：数据类型）-v2.0"></a>MySQL学习笔记（Day008：数据类型）-v2.0</h2><p>[TOC]</p>
<a id="more"></a>

<h3 id="一-INT类型"><a href="#一-INT类型" class="headerlink" title="一. INT类型"></a>一. INT类型</h3><h4 id="1-INT类型的分类"><a href="#1-INT类型的分类" class="headerlink" title="1. INT类型的分类"></a>1. INT类型的分类</h4><ul>
<li><p><strong>TINYINT</strong></p>
<ul>
<li>存储空间 ： 1 字节</li>
<li>取值范围 <ul>
<li>有符号(signed) ：  [-128, 127]</li>
<li>无符号(unsigned) ：[0, 255]</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>SMALLINT</strong></p>
<ul>
<li>存储空间 ： 2 字节</li>
<li>取值范围 <ul>
<li>有符号(signed) ：  [-32768, 32767]</li>
<li>无符号(unsigned) ：[0, 65535]</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>MEDIUMINT</strong></p>
<ul>
<li>存储空间 ： 3 字节</li>
<li>取值范围 <ul>
<li>有符号(signed) ：  [-8388608, 8388607]</li>
<li>无符号(unsigned) ：[0, 16777215]</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>INT</strong></p>
<ul>
<li>存储空间 ： 4 字节</li>
<li>取值范围 <ul>
<li>有符号(signed) ：  [-2147483648, 2147483647]</li>
<li>无符号(unsigned) ：[0, 4294967295]</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>BIGINT</strong></p>
<ul>
<li>存储空间 ： 8 字节</li>
<li>取值范围 <ul>
<li>有符号(signed) ：  [-9223372036854775808, 9223372036854775807]</li>
<li>无符号(unsigned) ：[0, 18446744073709551615]</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-INT类型的使用"><a href="#2-INT类型的使用" class="headerlink" title="2. INT类型的使用"></a>2. INT类型的使用</h4><ul>
<li><p><strong>自增长ID</strong></p>
<ul>
<li><code>推荐</code>使用<code>BIGINT</code>，而不是INT；</li>
</ul>
</li>
<li><p><strong>unsigned or signed</strong></p>
<ul>
<li>根据实际情况使用，一般情况下推荐<code>默认</code>的<code>sigend</code></li>
<li>unsigned 的注意事项</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table test_unsigned(a int unsigned, b int unsigned);</span><br><span class="line">Query OK, 0 rows affected (0.14 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_unsigned values(1, 2);</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select a - b from test_unsigned;</span><br><span class="line">ERROR 1690 (22003): BIGINT UNSIGNED value is out of range in &#x27;(`burn_test`.`test_unsigned`.`a` - `burn_test`.`test_unsigned`.`b`)&#x27;</span><br><span class="line"></span><br><span class="line">mysql&gt; select b - a from test_unsigned;   </span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">| b - a |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">|     1 |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">set</span> sql_mode = <span class="string">&#x27;no_unsigned_subtraction&#x27;</span>; <span class="comment">-- 这样就可以得到负数</span></span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select a - b from test_unsigned;</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">| a - b |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">|    -1 |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec) </span><br></pre></td></tr></table></figure>

<blockquote>
<p>一般情况下使用<code>int</code>时，推荐有符号数<code>(signed)</code>， 使用无符号数只是比原来多一倍的取值，数量级上没有改变。</p>
</blockquote>
<blockquote>
<p>如果需要取值范围很大，直接选择用<code>BIGINT</code></p>
</blockquote>
<h4 id="3-INT-N"><a href="#3-INT-N" class="headerlink" title="3. INT(N)"></a>3. INT(N)</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show create table  test_unsigned;</span><br><span class="line">+<span class="comment">---------------+-------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table         | <span class="keyword">Create</span> <span class="keyword">Table</span>                                                                                                                                    |</span><br><span class="line">+<span class="comment">---------------+-------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| test_unsigned | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`test_unsigned`</span> (</span><br><span class="line">  <span class="string">`a`</span> <span class="built_in">int</span>(<span class="number">10</span>) <span class="keyword">unsigned</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>, </span><br><span class="line">  <span class="string">`b`</span> <span class="built_in">int</span>(<span class="number">10</span>) <span class="keyword">unsigned</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8mb4 |</span><br><span class="line">+<span class="comment">---------------+-------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>int(N) 和 zerofill</strong><ul>
<li>int(<strong>N</strong>)中的<code>N</code>是显示宽度，<code>不表示</code>存储的数字的<code>长度</code>的上限。</li>
<li><code>zerofill</code>表示当存储的数字<code>长度 &lt; N</code>时，用<code>数字0</code>填充左边，直至补满长度<code>N</code></li>
<li>当存储数字的长度<code>超过N时</code>，按照<code>实际存储</code>的数字显示</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create  table  test_int_n(a int(3) zerofill);  -- 显示宽度N=3</span><br><span class="line">Query OK, 0 rows affected (0.11 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_int_n values(1);</span><br><span class="line">Query OK, 1 row affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_int_n;</span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">| a    |</span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">|  001 |   <span class="comment">-- 不满 N=3时，左边用0填充</span></span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">insert</span> <span class="keyword">into</span> test_int_n <span class="keyword">values</span>(<span class="number">1111</span>);</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_int_n;</span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">| a    |</span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">|  001 |</span><br><span class="line">| 1111 |  <span class="comment">-- 超过N=3的长度时，是什么数字，显示什么数字</span></span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> a, <span class="keyword">HEX</span>(a) <span class="keyword">from</span> test_int_n\G</span><br><span class="line">*************************** <span class="number">1.</span> <span class="keyword">row</span> ***************************</span><br><span class="line">     a: <span class="number">001</span></span><br><span class="line"><span class="keyword">HEX</span>(a): <span class="number">1</span>    <span class="comment">-- 实际存储的还是1</span></span><br><span class="line">*************************** <span class="number">2.</span> <span class="keyword">row</span> ***************************</span><br><span class="line">     a: <span class="number">1111</span></span><br><span class="line"><span class="keyword">HEX</span>(a): <span class="number">457</span>  <span class="comment">-- 1111对应的16进制就是457</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>int(N)中的<code>N</code>和<code>zerofill</code>配合才有意义，且仅仅是显示的时候才有意义，和实际存储没有关系，不会去截取数字的长度。</p>
</blockquote>
<h4 id="4-AUTO-INCREMENT"><a href="#4-AUTO-INCREMENT" class="headerlink" title="4. AUTO_INCREMENT"></a>4. AUTO_INCREMENT</h4><ul>
<li>自增</li>
<li>每张表一个</li>
<li>必须是索引的一部分</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table test_auto_increment(a int auto_increment);</span><br><span class="line">ERROR 1075 (42000): Incorrect table definition; there can be only one auto column and it must be defined as a key</span><br><span class="line"><span class="comment">-- 没有指定为key，报错了</span></span><br><span class="line"></span><br><span class="line">mysql&gt; create table test_auto_increment(a int auto_increment primary key);  -- 指定为key后有效</span><br><span class="line">Query OK, 0 rows affected (0.11 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_auto_increment values(NULL);  -- 插入NULL值</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_auto_increment;</span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">| a |</span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">| 1 |  <span class="comment">-- 插入NULL值，便可以让其自增，且默认从1开始</span></span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">insert</span> <span class="keyword">into</span> test_auto_increment <span class="keyword">values</span>(<span class="number">0</span>);  <span class="comment">-- 插入 0</span></span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_auto_increment;</span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">| a |</span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">| 1 |</span><br><span class="line">| 2 |  <span class="comment">-- 插入 0 ，自增长为2</span></span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">insert</span> <span class="keyword">into</span> test_auto_increment <span class="keyword">values</span>(<span class="number">-1</span>);  <span class="comment">-- 插入 -1</span></span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_auto_increment;</span><br><span class="line">+<span class="comment">----+</span></span><br><span class="line">| a  |</span><br><span class="line">+<span class="comment">----+</span></span><br><span class="line">| -1 |   <span class="comment">-- 刚刚插入的-1</span></span><br><span class="line">|  1 |</span><br><span class="line">|  2 |</span><br><span class="line">+<span class="comment">----+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">insert</span> <span class="keyword">into</span> test_auto_increment <span class="keyword">values</span>(<span class="literal">NULL</span>);  <span class="comment">-- 继续插入NULL</span></span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_auto_increment;</span><br><span class="line">+<span class="comment">----+</span></span><br><span class="line">| a  |</span><br><span class="line">+<span class="comment">----+</span></span><br><span class="line">| -1 |</span><br><span class="line">|  1 |</span><br><span class="line">|  2 |</span><br><span class="line">|  3 |  <span class="comment">-- 刚刚插入NULL， 自增为3</span></span><br><span class="line">+<span class="comment">----+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">insert</span> <span class="keyword">into</span> test_auto_increment <span class="keyword">values</span>(<span class="string">&#x27;0&#x27;</span>); <span class="comment">-- 插入字符0</span></span><br><span class="line">Query OK, 1 row affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_auto_increment;</span><br><span class="line">+<span class="comment">----+</span></span><br><span class="line">| a  |</span><br><span class="line">+<span class="comment">----+</span></span><br><span class="line">| -1 |</span><br><span class="line">|  1 |</span><br><span class="line">|  2 |</span><br><span class="line">|  3 |</span><br><span class="line">|  4 |  <span class="comment">-- 插入字符&#x27;0&#x27; 后， 自增长为4</span></span><br><span class="line">+<span class="comment">----+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">update</span> test_auto_increment <span class="keyword">set</span> a = <span class="number">0</span> <span class="keyword">where</span> a = <span class="number">-1</span>;  <span class="comment">-- 更新为0</span></span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_auto_increment;</span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">| a |</span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">| 0 |  <span class="comment">-- 原来的 -1 更新为0</span></span><br><span class="line">| 1 |</span><br><span class="line">| 2 |</span><br><span class="line">| 3 |</span><br><span class="line">| 4 |</span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">--  数字 0 这个值比较特殊， 插入0和插入NULL的效果是一样的，都是代表自增</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-----</span></span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">insert</span> <span class="keyword">into</span> test_auto_increment <span class="keyword">values</span>(<span class="literal">NULL</span>), (<span class="number">100</span>), (<span class="literal">NULL</span>); </span><br><span class="line">Query OK, 3 rows affected (0.02 sec)</span><br><span class="line">Records: 3  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_auto_increment;</span><br><span class="line">+<span class="comment">-----+</span></span><br><span class="line">| a   |</span><br><span class="line">+<span class="comment">-----+</span></span><br><span class="line">|   0 |</span><br><span class="line">|   1 |</span><br><span class="line">|   2 |</span><br><span class="line">|   3 |</span><br><span class="line">|   4 |</span><br><span class="line">|   5 | <span class="comment">-- 第一个NULL</span></span><br><span class="line">| 100 | <span class="comment">-- 100</span></span><br><span class="line">| 101 | <span class="comment">-- 第二个NULL, 按当前最大的值 +１来设置，之前是100，所以这里101</span></span><br><span class="line">+<span class="comment">-----+</span></span><br><span class="line">8 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">insert</span> <span class="keyword">into</span> test_auto_increment <span class="keyword">values</span>(<span class="number">99</span>); <span class="comment">-- 插入99</span></span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_auto_increment;</span><br><span class="line">+<span class="comment">-----+</span></span><br><span class="line">| a   |</span><br><span class="line">+<span class="comment">-----+</span></span><br><span class="line">|   0 |</span><br><span class="line">|   1 |</span><br><span class="line">|   2 |</span><br><span class="line">|   3 |</span><br><span class="line">|   4 |</span><br><span class="line">|   5 |</span><br><span class="line">|  99 |  <span class="comment">-- 刚刚插入的 99</span></span><br><span class="line">| 100 |</span><br><span class="line">| 101 |</span><br><span class="line">+<span class="comment">-----+</span></span><br><span class="line">9 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>AUTO_INCREMENT</code>是实例启动时，取当前表的最大值，然后 +1 即为下次自增的值。<code>（MAX + 1)</code></p>
</blockquote>
<blockquote>
<p><strong>TIPS:</strong><br><code>insert into tablename select NULL;</code> 等价与 <code>insert into tablename values (NULL);</code></p>
</blockquote>
<hr>
<h3 id="二-数字类型"><a href="#二-数字类型" class="headerlink" title="二. 数字类型"></a>二. 数字类型</h3><h4 id="1-数字类型的分类"><a href="#1-数字类型的分类" class="headerlink" title="1. 数字类型的分类"></a>1. 数字类型的分类</h4><ul>
<li><p>单精度类型：FLOAT</p>
<ul>
<li>存储空间：4 字节</li>
<li>精确性：低</li>
</ul>
</li>
<li><p>双精度类型：DOUBLE</p>
<ul>
<li>占用空间：8 字节</li>
<li>精确性：低，比FLOAT高</li>
</ul>
</li>
<li><p>高精度类型：DECIMAL</p>
<ul>
<li>占用空间：变长</li>
<li>精确性：非常高</li>
</ul>
</li>
</ul>
<p><strong>注意：财务系统<code>必须使用DECIMAL</code></strong></p>
<hr>
<h3 id="三-字符串类型"><a href="#三-字符串类型" class="headerlink" title="三. 字符串类型"></a>三. 字符串类型</h3><h4 id="1-字符串类型介绍"><a href="#1-字符串类型介绍" class="headerlink" title="1. 字符串类型介绍"></a>1. 字符串类型介绍</h4><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">说明</th>
<th align="center">N的含义</th>
<th align="center">是否有字符集</th>
<th align="center">最大长度</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>CHAR(N)</code></td>
<td align="center">定长字符</td>
<td align="center">字符</td>
<td align="center">是</td>
<td align="center">255</td>
</tr>
<tr>
<td align="center"><code>VARCHAR(N)</code></td>
<td align="center">变长字符</td>
<td align="center">字符</td>
<td align="center">是</td>
<td align="center">16384</td>
</tr>
<tr>
<td align="center">BINARY(N)</td>
<td align="center">定长二进制字节</td>
<td align="center">字节</td>
<td align="center">否</td>
<td align="center">255</td>
</tr>
<tr>
<td align="center">VARBINARY(N)</td>
<td align="center">变长二进制字节</td>
<td align="center">字节</td>
<td align="center">否</td>
<td align="center">16384</td>
</tr>
<tr>
<td align="center">TINYBLOB(N)</td>
<td align="center">二进制大对象</td>
<td align="center">字节</td>
<td align="center">否</td>
<td align="center">256</td>
</tr>
<tr>
<td align="center">BLOB(N)</td>
<td align="center">二进制大对象</td>
<td align="center">字节</td>
<td align="center">否</td>
<td align="center">16K</td>
</tr>
<tr>
<td align="center">MEDIUMBLOB(N)</td>
<td align="center">二进制大对象</td>
<td align="center">字节</td>
<td align="center">否</td>
<td align="center">16M</td>
</tr>
<tr>
<td align="center">LONGBLOB(N)</td>
<td align="center">二进制大对象</td>
<td align="center">字节</td>
<td align="center">否</td>
<td align="center">4G</td>
</tr>
<tr>
<td align="center">TINYTEXT(N)</td>
<td align="center">大对象</td>
<td align="center">字节</td>
<td align="center">是</td>
<td align="center">256</td>
</tr>
<tr>
<td align="center">TEXT(N)</td>
<td align="center">大对象</td>
<td align="center">字节</td>
<td align="center">是</td>
<td align="center">16K</td>
</tr>
<tr>
<td align="center">MEDIUMTEXT(N)</td>
<td align="center">大对象</td>
<td align="center">字节</td>
<td align="center">是</td>
<td align="center">16M</td>
</tr>
<tr>
<td align="center">LONGTEXT(N)</td>
<td align="center">大对象</td>
<td align="center">字节</td>
<td align="center">是</td>
<td align="center">4G</td>
</tr>
</tbody></table>
<h4 id="2-N和字符集"><a href="#2-N和字符集" class="headerlink" title="2. N和字符集"></a>2. N和字符集</h4><ul>
<li><strong>char(N)</strong><ul>
<li>假设当前table的字符集的<code>最大长度</code>为<code>W</code>, 则<code>char(N)</code>的最大存储空间为 <code>(N X W)Byte</code>;假设使用<code>UTF-8</code>，则char(10)可以最小存储10个字节的字符，最大存储30个字节的字符，其实是另一种意义上的<code>varchar</code></li>
<li>当存储的字符数<code>小于N</code>时，尾部使用<code>空格</code>填充，并且填充最小字节的空格</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table test_char(a char(10));</span><br><span class="line">Query OK, 0 rows affected (0.12 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create table test_char;</span><br><span class="line">+<span class="comment">-----------+------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table     | <span class="keyword">Create</span> <span class="keyword">Table</span>                                                                                   |</span><br><span class="line">+<span class="comment">-----------+------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| test_char | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`test_char`</span> (</span><br><span class="line">  <span class="string">`a`</span> <span class="built_in">char</span>(<span class="number">10</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8mb4 |</span><br><span class="line">+<span class="comment">-----------+------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">insert</span> <span class="keyword">into</span> test_char <span class="keyword">values</span>(<span class="string">&#x27;abc&#x27;</span>);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_char values(&#x27;你好吗&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.05 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_char values(&#x27;大家好ab&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_char values(&#x27;大家ab好&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_char values(&#x27;大家ab好吗&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select a, length(a) from test_char;</span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">| a              | length(a) |</span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">| abc            |         3 |</span><br><span class="line">| 你好吗         |         9 |</span><br><span class="line">| 大家好ab       |        11 |</span><br><span class="line">| 大家ab好       |        11 |</span><br><span class="line">| 大家ab好吗     |        14 |</span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> a, <span class="keyword">hex</span>(a) <span class="keyword">from</span> test_char;</span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">| a              | hex(a)                       |</span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">| abc            | 616263                       |    <span class="comment">-- 注意这里，以及下面的16进制值，一会可以对比</span></span><br><span class="line">| 你好吗         | E4BDA0E5A5BDE59097           |</span><br><span class="line">| 大家好ab       | E5A4A7E5AEB6E5A5BD6162       |</span><br><span class="line">| 大家ab好       | E5A4A7E5AEB66162E5A5BD       |</span><br><span class="line">| 大家ab好吗     | E5A4A7E5AEB66162E5A5BDE59097 |</span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">hex</span>(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| hex(&#x27; &#x27;) |</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| 20       |   <span class="comment">-- 注意 空格 空格对应的16进制数字是 20</span></span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<p><strong><code>test_char</code>表实际二进制存储文件</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- </span></span><br><span class="line"><span class="comment">-- shell&gt; hexdump -C test_char.idb</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1:abc</span></span><br><span class="line"><span class="comment">-- 2:你好吗</span></span><br><span class="line"><span class="comment">-- 3:大家好ab</span></span><br><span class="line"><span class="comment">-- 4:大家ab好</span></span><br><span class="line"><span class="comment">-- 5:大家ab好吗</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ---省略---</span></span><br><span class="line">00006070  73 75 70 72 65 6d 75 6d  0a 00 00 00 10 00 24 00  |supremum......$.|</span><br><span class="line">00006080  00 00 00 02 03 00 00 00  00 1f 33 a8 00 00 00 26  |..........3....&amp;|</span><br><span class="line">00006090  01 10 61 62 63 20 20 20  20 20 20 20 0a 00 00 00  |..abc       ....| <span class="comment">-- 1:后面补了7个空格</span></span><br><span class="line">000060a0  18 00 24 00 00 00 00 02  04 00 00 00 00 1f 34 a9  |..$...........4.|</span><br><span class="line">000060b0  00 00 00 25 01 10 e4 bd  a0 e5 a5 bd e5 90 97 20  |...%........... | <span class="comment">-- 2:补充了1个空格</span></span><br><span class="line">000060c0  0b 00 00 00 20 00 25 00  00 00 00 02 05 00 00 00  |.... .%.........|</span><br><span class="line">000060d0  00 1f 39 ac 00 00 00 26  01 10 e5 a4 a7 e5 ae b6  |..9....&amp;........| <span class="comment">-- 3:没有补充空格</span></span><br><span class="line">000060e0  e5 a5 bd 61 62 0b 00 00  00 28 00 25 00 00 00 00  |...ab....(.%....|  <span class="comment">-- </span></span><br><span class="line">000060f0  02 06 00 00 00 00 1f 3a  ad 00 00 00 28 01 10 e5  |.......:....(...| <span class="comment">--</span></span><br><span class="line">00006100  a4 a7 e5 ae b6 61 62 e5  a5 bd 0e 00 00 00 30 ff  |.....ab.......0.|  <span class="comment">-- 4：没有补充空格</span></span><br><span class="line">00006110  5f 00 00 00 00 02 07 00  00 00 00 1f 3f b0 00 00  |_...........?...|</span><br><span class="line">00006120  00 29 01 10 e5 a4 a7 e5  ae b6 61 62 e5 a5 bd e5  |.)........ab....|<span class="comment">--</span></span><br><span class="line">00006130  90 97 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................| <span class="comment">-- 5：没有补充空格</span></span><br><span class="line">00006140  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line"><span class="comment">-- ---省略---</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>varchar(N)</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table test_varchar(a varchar(10));</span><br><span class="line">Query OK, 0 rows affected (0.12 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create table test_varchar;</span><br><span class="line">+<span class="comment">--------------+------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table        | <span class="keyword">Create</span> <span class="keyword">Table</span>                                                                                         |</span><br><span class="line">+<span class="comment">--------------+------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| test_varchar | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`test_varchar`</span> (</span><br><span class="line">  <span class="string">`a`</span> <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8mb4 |</span><br><span class="line">+<span class="comment">--------------+------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">insert</span> <span class="keyword">into</span> test_varchar <span class="keyword">values</span>(<span class="string">&#x27;abc&#x27;</span>);</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_varchar values(&#x27;你好吗&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_varchar values(&#x27;大家好ab&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_varchar values(&#x27;大家ab好&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_varchar values(&#x27;大家ab好吗&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select a, hex(a) from test_varchar;</span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">| a              | hex(a)                       |</span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">| abc            | 616263                       |</span><br><span class="line">| 你好吗         | E4BDA0E5A5BDE59097           |</span><br><span class="line">| 大家好ab       | E5A4A7E5AEB6E5A5BD6162       |</span><br><span class="line">| 大家ab好       | E5A4A7E5AEB66162E5A5BD       |</span><br><span class="line">| 大家ab好吗     | E5A4A7E5AEB66162E5A5BDE59097 |</span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> a, <span class="keyword">length</span>(a) <span class="keyword">from</span> test_varchar;</span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">| a              | length(a) |</span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">| abc            |         3 |</span><br><span class="line">| 你好吗         |         9 |</span><br><span class="line">| 大家好ab       |        11 |</span><br><span class="line">| 大家ab好       |        11 |</span><br><span class="line">| 大家ab好吗     |        14 |</span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>


<p><strong><code>test_varchar</code>表实际二进制存储文件</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- </span></span><br><span class="line"><span class="comment">-- shell&gt; hexdump -C test_char.idb</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1:abc</span></span><br><span class="line"><span class="comment">-- 2:你好吗</span></span><br><span class="line"><span class="comment">-- 3:大家好ab</span></span><br><span class="line"><span class="comment">-- 4:大家ab好</span></span><br><span class="line"><span class="comment">-- 5:大家ab好吗</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 和char一样观察，都没有进行空格的填充</span></span><br><span class="line"></span><br><span class="line">00006070  73 75 70 72 65 6d 75 6d  03 00 00 00 10 00 1d 00  |supremum........|</span><br><span class="line">00006080  00 00 00 02 08 00 00 00  00 1f 44 b5 00 00 00 29  |..........D....)|</span><br><span class="line">00006090  01 10 61 62 63 09 00 00  00 18 00 23 00 00 00 00  |..abc......<span class="comment">#....| </span></span><br><span class="line">000060a0  02 09 00 00 00 00 1f 45  b6 00 00 00 2b 01 10 e4  |.......E....+...|</span><br><span class="line">000060b0  bd a0 e5 a5 bd e5 90 97  0b 00 00 00 20 00 25 00  |............ .%.|</span><br><span class="line">000060c0  00 00 00 02 0a 00 00 00  00 1f 4a b9 00 00 00 2c  |..........J....,|</span><br><span class="line">000060d0  01 10 e5 a4 a7 e5 ae b6  e5 a5 bd 61 62 0b 00 00  |...........ab...|</span><br><span class="line">000060e0  00 28 00 25 00 00 00 00  02 0b 00 00 00 00 1f 4b  |.(.%...........K|</span><br><span class="line">000060f0  ba 00 00 00 2c 01 10 e5  a4 a7 e5 ae b6 61 62 e5  |....,........ab.|</span><br><span class="line">00006100  a5 bd 0e 00 00 00 30 ff  67 00 00 00 00 02 0c 00  |......0.g.......|</span><br><span class="line">00006110  00 00 00 1f 50 bd 00 00  00 2d 01 10 e5 a4 a7 e5  |....P....-......|</span><br><span class="line">00006120  ae b6 61 62 e5 a5 bd e5  90 97 00 00 00 00 00 00  |..ab............|</span><br><span class="line">00006130  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>插入数据尾部带空格</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into test_char values(&#x27;好好好   &#x27;);  -- 后面有3个空格</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_varchar values(&#x27;好好好   &#x27;); -- 后面有3个空格</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- </span></span><br><span class="line"><span class="comment">-- test_char 表</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line">mysql&gt; select a, length(a) from test_char;   </span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">| a              | length(a) |</span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">| abc            |         3 |</span><br><span class="line">| 你好吗         |         9 |</span><br><span class="line">| 大家好ab       |        11 |</span><br><span class="line">| 大家ab好       |        11 |</span><br><span class="line">| 大家ab好吗     |        14 |</span><br><span class="line">| 好好好         |         9 |  <span class="comment">-- 只有9个字节</span></span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> a, <span class="keyword">hex</span>(a) <span class="keyword">from</span> test_char;</span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">| a              | hex(a)                       |</span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">| abc            | 616263                       |</span><br><span class="line">| 你好吗         | E4BDA0E5A5BDE59097           |</span><br><span class="line">| 大家好ab       | E5A4A7E5AEB6E5A5BD6162       |</span><br><span class="line">| 大家ab好       | E5A4A7E5AEB66162E5A5BD       |</span><br><span class="line">| 大家ab好吗     | E5A4A7E5AEB66162E5A5BDE59097 |</span><br><span class="line">| 好好好         | E5A5BDE5A5BDE5A5BD           | <span class="comment">-- 无填充空格</span></span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- test_varchar表</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line">mysql&gt; <span class="keyword">select</span> a, <span class="keyword">length</span>(a) <span class="keyword">from</span> test_varchar;</span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">| a              | length(a) |</span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">| abc            |         3 |</span><br><span class="line">| 你好吗         |         9 |</span><br><span class="line">| 大家好ab       |        11 |</span><br><span class="line">| 大家ab好       |        11 |</span><br><span class="line">| 大家ab好吗     |        14 |</span><br><span class="line">| 好好好         |        12 |  <span class="comment">-- (好好好)9个字节 +  3个字节的空格</span></span><br><span class="line">+<span class="comment">----------------+-----------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> a, <span class="keyword">hex</span>(a) <span class="keyword">from</span> test_varchar;      </span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">| a              | hex(a)                       |</span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">| abc            | 616263                       |</span><br><span class="line">| 你好吗         | E4BDA0E5A5BDE59097           |</span><br><span class="line">| 大家好ab       | E5A4A7E5AEB6E5A5BD6162       |</span><br><span class="line">| 大家ab好       | E5A4A7E5AEB66162E5A5BD       |</span><br><span class="line">| 大家ab好吗     | E5A4A7E5AEB66162E5A5BDE59097 |</span><br><span class="line">| 好好好         | E5A5BDE5A5BDE5A5BD202020     |  <span class="comment">-- 后面有20 20 20 ，表示3个自己的空格</span></span><br><span class="line">+<span class="comment">----------------+------------------------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>上面的现象无法用统一的规则进行表述，但是<a target="_blank" rel="noopener" href="http://dev.mysql.com/doc/refman/5.7/en/innodb-physical-record.html">官方文档</a>给出的解释是，这样的安排是为了避免索引页的碎片 </p>
</blockquote>
<h4 id="3-BLOB和TEXT"><a href="#3-BLOB和TEXT" class="headerlink" title="3.BLOB和TEXT"></a>3.BLOB和TEXT</h4><ul>
<li>在BLOB和TEXT上创建索引时，必须指定索引前缀的长度</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table test_text(a int primary key, b text, key(b));</span><br><span class="line">ERROR 1170 (42000): BLOB/TEXT column &#x27;b&#x27; used in key specification without a key length</span><br><span class="line"></span><br><span class="line">mysql&gt; create table test_text(a int primary key, b text, key(b(64)));</span><br><span class="line">Query OK, 0 rows affected (0.13 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>BLOB和TEXT列不能有默认值</li>
<li>BLOB和TEXT列排序时只使用该列的前max_sort_length个字节</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select @@max_sort_length;</span><br><span class="line">+<span class="comment">-------------------+</span></span><br><span class="line">| @@max_sort_length |</span><br><span class="line">+<span class="comment">-------------------+</span></span><br><span class="line">|              1024 |</span><br><span class="line">+<span class="comment">-------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>不建议在MySQL中存储大型的二进制数据，比如歌曲，视频</p>
</blockquote>
<hr>
<h3 id="四-字符集"><a href="#四-字符集" class="headerlink" title="四. 字符集"></a>四. 字符集</h3><h4 id="1-常见的字符集"><a href="#1-常见的字符集" class="headerlink" title="1. 常见的字符集"></a>1. 常见的字符集</h4><ul>
<li>utf8</li>
<li>utf8mb4</li>
<li>gbk</li>
<li>gb18030</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show character set;</span><br><span class="line">+<span class="comment">----------+---------------------------------+---------------------+--------+</span></span><br><span class="line">| Charset  | Description                     | Default collation   | Maxlen |</span><br><span class="line">+<span class="comment">----------+---------------------------------+---------------------+--------+</span></span><br><span class="line">| big5     | Big5 Traditional Chinese        | big5_chinese_ci     |      2 |</span><br><span class="line">| dec8     | DEC West European               | dec8_swedish_ci     |      1 |</span><br><span class="line">| cp850    | DOS West European               | cp850_general_ci    |      1 |</span><br><span class="line">| hp8      | HP West European                | hp8_english_ci      |      1 |</span><br><span class="line">| koi8r    | KOI8-R Relcom Russian           | koi8r_general_ci    |      1 |</span><br><span class="line">| latin1   | cp1252 West European            | latin1_swedish_ci   |      1 |</span><br><span class="line">| latin2   | ISO 8859-2 Central European     | latin2_general_ci   |      1 |</span><br><span class="line">| swe7     | 7bit Swedish                    | swe7_swedish_ci     |      1 |</span><br><span class="line">| ascii    | US ASCII                        | ascii_general_ci    |      1 |</span><br><span class="line">| ujis     | EUC-JP Japanese                 | ujis_japanese_ci    |      3 |</span><br><span class="line">| sjis     | Shift-JIS Japanese              | sjis_japanese_ci    |      2 |</span><br><span class="line">| hebrew   | ISO 8859-8 Hebrew               | hebrew_general_ci   |      1 |</span><br><span class="line">| tis620   | TIS620 Thai                     | tis620_thai_ci      |      1 |</span><br><span class="line">| euckr    | EUC-KR Korean                   | euckr_korean_ci     |      2 |</span><br><span class="line">| koi8u    | KOI8-U Ukrainian                | koi8u_general_ci    |      1 |</span><br><span class="line">| gb2312   | GB2312 Simplified Chinese       | gb2312_chinese_ci   |      2 |</span><br><span class="line">| greek    | ISO 8859-7 Greek                | greek_general_ci    |      1 |</span><br><span class="line">| cp1250   | Windows Central European        | cp1250_general_ci   |      1 |</span><br><span class="line">| gbk      | GBK Simplified Chinese          | gbk_chinese_ci      |      2 | <span class="comment">-- gbk，表示的字符有限</span></span><br><span class="line">| latin5   | ISO 8859-9 Turkish              | latin5_turkish_ci   |      1 |</span><br><span class="line">| armscii8 | ARMSCII-8 Armenian              | armscii8_general_ci |      1 |</span><br><span class="line">| utf8     | UTF-8 Unicode                   | utf8_general_ci     |      3 | <span class="comment">-- utf8，最长3字节</span></span><br><span class="line">| ucs2     | UCS-2 Unicode                   | ucs2_general_ci     |      2 |</span><br><span class="line">| cp866    | DOS Russian                     | cp866_general_ci    |      1 |</span><br><span class="line">| keybcs2  | DOS Kamenicky Czech-Slovak      | keybcs2_general_ci  |      1 |</span><br><span class="line">| macce    | Mac Central European            | macce_general_ci    |      1 |</span><br><span class="line">| macroman | Mac West European               | macroman_general_ci |      1 |</span><br><span class="line">| cp852    | DOS Central European            | cp852_general_ci    |      1 |</span><br><span class="line">| latin7   | ISO 8859-13 Baltic              | latin7_general_ci   |      1 |</span><br><span class="line">| utf8mb4  | UTF-8 Unicode                   | utf8mb4_general_ci  |      4 | <span class="comment">-- utf8 + mobile端字符</span></span><br><span class="line">| cp1251   | Windows Cyrillic                | cp1251_general_ci   |      1 |</span><br><span class="line">| utf16    | UTF-16 Unicode                  | utf16_general_ci    |      4 |</span><br><span class="line">| utf16le  | UTF-16LE Unicode                | utf16le_general_ci  |      4 |</span><br><span class="line">| cp1256   | Windows Arabic                  | cp1256_general_ci   |      1 |</span><br><span class="line">| cp1257   | Windows Baltic                  | cp1257_general_ci   |      1 |</span><br><span class="line">| utf32    | UTF-32 Unicode                  | utf32_general_ci    |      4 |</span><br><span class="line">| binary   | Binary pseudo charset           | binary              |      1 |</span><br><span class="line">| geostd8  | GEOSTD8 Georgian                | geostd8_general_ci  |      1 |</span><br><span class="line">| cp932    | SJIS for Windows Japanese       | cp932_japanese_ci   |      2 |</span><br><span class="line">| eucjpms  | UJIS for Windows Japanese       | eucjpms_japanese_ci |      3 |</span><br><span class="line">| gb18030  | China National Standard GB18030 | gb18030_chinese_ci  |      4 | <span class="comment">-- gb18030,最长4个字节</span></span><br><span class="line">+<span class="comment">----------+---------------------------------+---------------------+--------+</span></span><br><span class="line">41 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h4 id="2-collation"><a href="#2-collation" class="headerlink" title="2. collation"></a>2. collation</h4><p>collation的含义是指排序规则，<code>ci（case insensitive）</code>结尾的排序集是不区分大小写的</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select &#x27;a&#x27; = &#x27;A&#x27;;</span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">| &#x27;a&#x27; = &#x27;A&#x27; |</span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">|         1 |  <span class="comment">-- 因为大小写无关，所以返回1</span></span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">create</span> <span class="keyword">table</span> test_ci (a <span class="built_in">varchar</span>(<span class="number">10</span>), <span class="keyword">key</span>(a));</span><br><span class="line">Query OK, 0 rows affected (0.13 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_ci values(&#x27;a&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_ci values(&#x27;A&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_ci where a = &#x27;a&#x27;;</span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">| a    |</span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">| a    |  </span><br><span class="line">| A    |  <span class="comment">-- A也被我们查到了</span></span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>上面的情况如果从业务的角度上看，可以很好理解，比如创建一个用户叫做Tom，你是不希望再创建一个叫做tom的用户的</p>
</blockquote>
<ul>
<li><strong>修改默认的collation</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; set names utf8mb4 collate utf8mb4_bin;  -- 当前会话有效</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select &#x27;a&#x27; = &#x27;A&#x27;;</span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">| &#x27;a&#x27; = &#x27;A&#x27; |</span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">|         0 |</span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>字符集的指定，可以在创建数据库的时候指定，也可以在创建表的时候单独指定，也可以创建列的时候进行指定</p>
</blockquote>
<hr>
<h3 id="五-集合类型"><a href="#五-集合类型" class="headerlink" title="五. 集合类型"></a>五. 集合类型</h3><ul>
<li>集合类型ENUM 和 SET</li>
<li>ENUM类型最多允许65536个值</li>
<li>SET类型最多允许64个值</li>
<li>通过sql_mode参数可以用户约束检查</li>
</ul>
<h4 id="1-集合类型的排序"><a href="#1-集合类型的排序" class="headerlink" title="1. 集合类型的排序"></a>1. 集合类型的排序</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table test_col (</span><br><span class="line">    -&gt; user varchar(10),</span><br><span class="line">    -&gt; sex enum(&#x27;male&#x27;, &#x27;female&#x27;)  -- 虽然写的是字符串，单其实存储的整型，效率还是可以的</span><br><span class="line">    -&gt; );</span><br><span class="line">    </span><br><span class="line">mysql&gt; insert into test_col values (&quot;tom&quot;, &quot;male&quot;);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_col values (&quot;tom&quot;, &quot;xmale&quot;);  -- 不是male 和 female</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.03 sec)  <span class="comment">-- 有warning</span></span><br><span class="line"></span><br><span class="line">mysql&gt; set sql_mode=&#x27;strict_trans_tables&#x27;;  -- 设置为严格模式</span><br><span class="line">Query OK, 0 rows affected, 2 warnings (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_col values (&quot;tom&quot;, &quot;xmale&quot;);</span><br><span class="line">ERROR 1265 (01000): Data truncated for column &#x27;sex&#x27; at row 1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>强烈建议新业务上都设置成严格模式</p>
</blockquote>
<h4 id="2-集合类型的排序"><a href="#2-集合类型的排序" class="headerlink" title="2. 集合类型的排序"></a>2. 集合类型的排序</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table test_col_sort(</span><br><span class="line">    -&gt; user char(10),</span><br><span class="line">    -&gt; type enum(&#x27;aaa&#x27;,&#x27;zzz&#x27;,&#x27;bbb&#x27;,&#x27;yyy&#x27;,&#x27;fff&#x27;)  -- aaa=0, zzz=1, bbb=2, yyy=3, fff=4</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.20 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_col_sort order by type asc; -- 以type作为key，进行升序排序</span><br><span class="line">+<span class="comment">-------+------+</span></span><br><span class="line">| user  | type |</span><br><span class="line">+<span class="comment">-------+------+</span></span><br><span class="line">| user1 | aaa  |  <span class="comment">-- 0</span></span><br><span class="line">| user4 | zzz  |  <span class="comment">-- 1</span></span><br><span class="line">| user2 | bbb  |  <span class="comment">-- 2</span></span><br><span class="line">| user3 | yyy  |  <span class="comment">-- 3</span></span><br><span class="line">+<span class="comment">-------+------+  -- 枚举类型实际是整型数据，按照插入顺序进行排列</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- 使用ascii排序</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> test_col_sort <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">cast</span>(<span class="keyword">type</span> <span class="keyword">as</span> <span class="built_in">char</span>) <span class="keyword">asc</span>;  <span class="comment">-- 使用cast()函数转换成某种型</span></span><br><span class="line">+<span class="comment">-------+------+                                                     -- 这里我们转成char型</span></span><br><span class="line">| user  | type |                                                     <span class="comment">-- 然后进行排序(ascii)</span></span><br><span class="line">+<span class="comment">-------+------+</span></span><br><span class="line">| user1 | aaa  | <span class="comment">-- 0</span></span><br><span class="line">| user2 | bbb  | <span class="comment">-- 2</span></span><br><span class="line">| user3 | yyy  | <span class="comment">-- 3</span></span><br><span class="line">| user4 | zzz  | <span class="comment">-- 1</span></span><br><span class="line">+<span class="comment">-------+------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 或者使用concat</span></span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> test_col_sort <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">concat</span>(<span class="keyword">type</span>) <span class="keyword">asc</span>;   <span class="comment">-- concat()是连接字符串函数            </span></span><br><span class="line">+<span class="comment">-------+------+</span></span><br><span class="line">| user  | type |</span><br><span class="line">+<span class="comment">-------+------+</span></span><br><span class="line">| user1 | aaa  |  <span class="comment">-- 0</span></span><br><span class="line">| user2 | bbb  |  <span class="comment">-- 2</span></span><br><span class="line">| user3 | yyy  |  <span class="comment">-- 3</span></span><br><span class="line">| user4 | zzz  |  <span class="comment">-- 1</span></span><br><span class="line">+<span class="comment">-------+------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">concat</span>(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;大家好&quot;</span>);</span><br><span class="line">+<span class="comment">----------------------------+</span></span><br><span class="line">| concat(&quot;abc&quot;, &quot;大家好&quot;)    |</span><br><span class="line">+<span class="comment">----------------------------+</span></span><br><span class="line">| abc大家好                  |</span><br><span class="line">+<span class="comment">----------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="六-日期类型"><a href="#六-日期类型" class="headerlink" title="六. 日期类型"></a>六. 日期类型</h3><table>
<thead>
<tr>
<th>日期类型</th>
<th>占用空间(byte)（&lt;5.6）</th>
<th>占用空间(byte)(&gt;=5.6)</th>
<th>表示范围</th>
</tr>
</thead>
<tbody><tr>
<td><code>DATETIME</code></td>
<td>8</td>
<td>5 + 微秒存储空间</td>
<td>1000-01-01 00:00:00 ~ 9999-12-31 23:59:59</td>
</tr>
<tr>
<td>DATE</td>
<td>3</td>
<td>3</td>
<td>1000-01-01 ~ 9999-12-31</td>
</tr>
<tr>
<td><code>TIMESTAMP</code></td>
<td>4</td>
<td>4 + 微秒存储空间</td>
<td>1970-01-01 00:00:00UTC ~ 2038-01-19 03:14:07UTC</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>1</td>
<td>YEAR(2):1970-2070, YEAR(4):1901-2155</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>3 + 微秒存储空间</td>
<td>-838:59:59 ~ 838:59:59</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>微秒位数</th>
<th>所需存储空间</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>1, 2</td>
<td>1 byte</td>
</tr>
<tr>
<td>3, 4</td>
<td>2 bytes</td>
</tr>
<tr>
<td>5, 6</td>
<td>3 bytes</td>
</tr>
</tbody></table>
<blockquote>
<p>TIMESTAMP 带时区功能</p>
</blockquote>
<h4 id="1-TIMESTAMP和DATETIME"><a href="#1-TIMESTAMP和DATETIME" class="headerlink" title="1. TIMESTAMP和DATETIME"></a>1. TIMESTAMP和DATETIME</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table test_time(a timestamp, b datetime);</span><br><span class="line">Query OK, 0 rows affected (0.12 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_time values (now(), now());</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_time;</span><br><span class="line">+<span class="comment">---------------------+---------------------+</span></span><br><span class="line">| a                   | b                   |</span><br><span class="line">+<span class="comment">---------------------+---------------------+</span></span><br><span class="line">| 2015-11-28 10:00:39 | 2015-11-28 10:00:39 |</span><br><span class="line">+<span class="comment">---------------------+---------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> @@<span class="keyword">time_zone</span>; </span><br><span class="line">+<span class="comment">-------------+</span></span><br><span class="line">| @@time_zone |</span><br><span class="line">+<span class="comment">-------------+</span></span><br><span class="line">| SYSTEM      |</span><br><span class="line">+<span class="comment">-------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">set</span> <span class="keyword">time_zone</span>=<span class="string">&#x27;+00:00&#x27;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select @@time_zone;</span><br><span class="line">+<span class="comment">-------------+</span></span><br><span class="line">| @@time_zone |</span><br><span class="line">+<span class="comment">-------------+</span></span><br><span class="line">| +00:00      |</span><br><span class="line">+<span class="comment">-------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> test_time;</span><br><span class="line">+<span class="comment">---------------------+---------------------+</span></span><br><span class="line">| a                   | b                   |</span><br><span class="line">+<span class="comment">---------------------+---------------------+</span></span><br><span class="line">| 2015-11-28 2:00:39 | 2015-11-28 10:00:39  |  <span class="comment">-- 时区的差别体现出来了</span></span><br><span class="line">+<span class="comment">---------------------+---------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h4 id="2-微秒"><a href="#2-微秒" class="headerlink" title="2. 微秒"></a>2. 微秒</h4><p><strong>从<code>MySQL5.6.X</code>开始，支持<code>微秒</code>，最大显示<code>6位</code></strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select now(6);</span><br><span class="line">+<span class="comment">----------------------------+</span></span><br><span class="line">| now(6)                     |</span><br><span class="line">+<span class="comment">----------------------------+</span></span><br><span class="line">| 2015-11-30 21:15:36.415358 |  <span class="comment">-- 6位 微秒显示</span></span><br><span class="line">+<span class="comment">----------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">now</span>(<span class="number">7</span>);</span><br><span class="line">ERROR 1426 (42000): Too-big precision 7 specified for &#x27;now&#x27;. Maximum is 6.  <span class="comment">-- 不支持，最大到6</span></span><br><span class="line"></span><br><span class="line">mysql&gt; create table test_time_fac (t datetime(6));</span><br><span class="line">Query OK, 0 rows affected (0.11 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_time_fac values(now(6)); </span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_time_fac;</span><br><span class="line">+<span class="comment">----------------------------+</span></span><br><span class="line">| t                          |</span><br><span class="line">+<span class="comment">----------------------------+</span></span><br><span class="line">| 2015-11-30 21:19:27.900393 |  <span class="comment">-- 由于是用了6位微秒位数，根据表格显示，实际存储的空间是 5 + 3 = 8 byte</span></span><br><span class="line">+<span class="comment">----------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>


<h4 id="3-时间函数"><a href="#3-时间函数" class="headerlink" title="3. 时间函数"></a>3. 时间函数</h4><ul>
<li>常用函数</li>
</ul>
<table>
<thead>
<tr>
<th>函数名</th>
<th>函数说明</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>NOW</td>
<td>返回<code>SQL执行时</code>的时间</td>
<td>如果不考虑其他因素，可以理解为写完SQL，敲下回车瞬间的时间</td>
</tr>
<tr>
<td>CURRENT_TIMESTAMP</td>
<td>与NOW()函数同义</td>
<td></td>
</tr>
<tr>
<td>SYSDATE</td>
<td>返回<code>函数执行时</code>的时间</td>
<td>MySQL处理你的函数时的时间，统一SQL语句中，大于NOW</td>
</tr>
<tr>
<td>DATA_ADD(date, interval expr uint)</td>
<td>增加时间</td>
<td></td>
</tr>
<tr>
<td>DATA_SUB(date, interval expr uint)</td>
<td>减少时间</td>
<td>可用ADD，然后unit给负数</td>
</tr>
<tr>
<td>DATE FORMAT</td>
<td>格式化时间</td>
<td></td>
</tr>
</tbody></table>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://dev.mysql.com/doc/refman/5.7/en/date-and-time-functions.html">所有时间函数–官方文档</a></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- NOW和SYSDATE的区别</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line">mysql&gt; select now(6),sysdate(6),sleep(5),now(6),sysdate(6);</span><br><span class="line">+<span class="comment">----------------------------+----------------------------+----------+----------------------------+----------------------------+</span></span><br><span class="line">| now(6)                     | sysdate(6)                 | sleep(5) | now(6)                     | sysdate(6)                 |</span><br><span class="line">+<span class="comment">----------------------------+----------------------------+----------+----------------------------+----------------------------+</span></span><br><span class="line">| 2015-11-30 21:40:58.572383 | 2015-11-30 21:40:58.572542 |        0 | 2015-11-30 21:40:58.572383 | 2015-11-30 21:41:03.572720 |</span><br><span class="line">+<span class="comment">----------------------------+----------------------------+----------+----------------------------+----------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">5.00</span> sec)</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- 两个now(6)都相等，因为是SQL执行时的时间(可以简单立理解为按回车的时间)</span></span><br><span class="line"><span class="comment">-- 两个sysdate(6)差了5秒，刚好是sleep(5)的时间</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-----</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- date_add</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">date_add</span>(<span class="keyword">now</span>(), <span class="built_in">interval</span> <span class="number">5</span> <span class="keyword">day</span>);   <span class="comment">-- 增加5天</span></span><br><span class="line">+<span class="comment">---------------------------------+</span></span><br><span class="line">| date_add(now(), interval 5 day) |</span><br><span class="line">+<span class="comment">---------------------------------+</span></span><br><span class="line">| 2015-12-05 21:42:39             |</span><br><span class="line">+<span class="comment">---------------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">date_add</span>(<span class="keyword">now</span>(), <span class="built_in">interval</span> <span class="number">-5</span> <span class="keyword">month</span>);  <span class="comment">-- 减少 5个月</span></span><br><span class="line">+<span class="comment">------------------------------------+</span></span><br><span class="line">| date_add(now(), interval -5 month) |</span><br><span class="line">+<span class="comment">------------------------------------+</span></span><br><span class="line">| 2015-06-30 21:43:49                |</span><br><span class="line">+<span class="comment">------------------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">date_sub</span>(<span class="keyword">now</span>(), <span class="built_in">interval</span> <span class="number">5</span> <span class="keyword">month</span>);  <span class="comment">-- 与add + 负数一致</span></span><br><span class="line">+<span class="comment">-----------------------------------+</span></span><br><span class="line">| date_sub(now(), interval 5 month) |</span><br><span class="line">+<span class="comment">-----------------------------------+</span></span><br><span class="line">| 2015-06-30 21:44:21               |</span><br><span class="line">+<span class="comment">-----------------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- date_format</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line">mysql&gt; <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">select</span> <span class="keyword">now</span>(<span class="number">6</span>)), <span class="string">&#x27;%H:%i:%s&#x27;</span>);</span><br><span class="line">+<span class="comment">------------------------------------------+</span></span><br><span class="line">| DATE_FORMAT((<span class="keyword">select</span> <span class="keyword">now</span>(<span class="number">6</span>)), <span class="string">&#x27;%H:%i:%s&#x27;</span>) |</span><br><span class="line">+<span class="comment">------------------------------------------+</span></span><br><span class="line">| <span class="number">21</span>:<span class="number">48</span>:<span class="number">30</span>                                 |</span><br><span class="line">+<span class="comment">------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h4 id="4-字段更新时间"><a href="#4-字段更新时间" class="headerlink" title="4. 字段更新时间"></a>4. 字段更新时间</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create  table test_field_update(</span><br><span class="line">    -&gt; a int(10),</span><br><span class="line">    -&gt; b timestamp not null default current_timestamp on update current_timestamp</span><br><span class="line">    -&gt; );</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_field_update values(1, now(6));</span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_field_update;</span><br><span class="line">+<span class="comment">------+---------------------+</span></span><br><span class="line">| a    | b                   |</span><br><span class="line">+<span class="comment">------+---------------------+</span></span><br><span class="line">|    1 | 2015-11-30 21:55:18 |  <span class="comment">-- 上面使用了now(6)，但是这里没有微秒，是因为定义的时候就是timestamp</span></span><br><span class="line">+<span class="comment">------+---------------------+  -- 如果写成timestamp(6),就可以显示微秒</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">update</span> test_field_update <span class="keyword">set</span> a=<span class="number">100</span> <span class="keyword">where</span> a=<span class="number">1</span>;  <span class="comment">-- 只更新a字段</span></span><br><span class="line">Query OK, 1 row affected (0.03 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_field_update;    </span><br><span class="line">+<span class="comment">------+---------------------+</span></span><br><span class="line">| a    | b                   |</span><br><span class="line">+<span class="comment">------+---------------------+</span></span><br><span class="line">|  100 | 2015-11-30 22:01:03 |  <span class="comment">-- 发现b字段跟着改变了</span></span><br><span class="line">+<span class="comment">------+---------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- 测试timestamp(6)</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line">mysql&gt; <span class="keyword">create</span> <span class="keyword">table</span> test_time_disp(</span><br><span class="line">    -&gt; a <span class="built_in">int</span>(<span class="number">10</span>),</span><br><span class="line">    -&gt; b <span class="built_in">timestamp</span>(<span class="number">6</span>) <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="keyword">current_timestamp</span>(<span class="number">6</span>) <span class="keyword">on</span> <span class="keyword">update</span> <span class="keyword">current_timestamp</span>(<span class="number">6</span>)  <span class="comment">-- 定义了(6)</span></span><br><span class="line">    -&gt; );</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test_time_disp values(1, now(6));      </span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test_time_disp;</span><br><span class="line">+<span class="comment">------+----------------------------+</span></span><br><span class="line">| a    | b                          |</span><br><span class="line">+<span class="comment">------+----------------------------+</span></span><br><span class="line">|    1 | 2015-11-30 22:03:23.545406 |  <span class="comment">-- 插入了now(6), 这里就显示了6位微秒</span></span><br><span class="line">+<span class="comment">------+----------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>








    </div>

    
    
    

      <div>   
             
          <div>
    
        <div style="text-align:center;color: #ccc;font-size:20px;">-------------
The end of this article, thanks for reading  <i class="fas fa-coffee"></i>-------------</div>
    
</div>   
         
      </div>

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/MySQL/" rel="tag"><i class="fa fa-tag"></i> MySQL</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/11/21/MySQL/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(Day015-Day016)/" rel="prev" title="MySQL学习笔记（Day015-Day016：索引/B+树/Explain）">
      <i class="fa fa-chevron-left"></i> MySQL学习笔记（Day015-Day016：索引/B+树/Explain）
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/11/21/MySQL/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(Day019)/" rel="next" title="MySQL学习笔记（Day019：磁盘测试）">
      MySQL学习笔记（Day019：磁盘测试） <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>

      <div>
        
          
        
      </div>

    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88Day008%EF%BC%9A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%89-v2-0"><span class="nav-number">1.</span> <span class="nav-text">MySQL学习笔记（Day008：数据类型）-v2.0</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80-INT%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.1.</span> <span class="nav-text">一. INT类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-INT%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">1.1.1.</span> <span class="nav-text">1. INT类型的分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-INT%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">1.1.2.</span> <span class="nav-text">2. INT类型的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-INT-N"><span class="nav-number">1.1.3.</span> <span class="nav-text">3. INT(N)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-AUTO-INCREMENT"><span class="nav-number">1.1.4.</span> <span class="nav-text">4. AUTO_INCREMENT</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C-%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.2.</span> <span class="nav-text">二. 数字类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">1.2.1.</span> <span class="nav-text">1. 数字类型的分类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.3.</span> <span class="nav-text">三. 字符串类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.3.1.</span> <span class="nav-text">1. 字符串类型介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-N%E5%92%8C%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="nav-number">1.3.2.</span> <span class="nav-text">2. N和字符集</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-BLOB%E5%92%8CTEXT"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.BLOB和TEXT</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9B-%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="nav-number">1.4.</span> <span class="nav-text">四. 字符集</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="nav-number">1.4.1.</span> <span class="nav-text">1. 常见的字符集</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-collation"><span class="nav-number">1.4.2.</span> <span class="nav-text">2. collation</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%94-%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.5.</span> <span class="nav-text">五. 集合类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%8E%92%E5%BA%8F"><span class="nav-number">1.5.1.</span> <span class="nav-text">1. 集合类型的排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%8E%92%E5%BA%8F"><span class="nav-number">1.5.2.</span> <span class="nav-text">2. 集合类型的排序</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%AD-%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.6.</span> <span class="nav-text">六. 日期类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-TIMESTAMP%E5%92%8CDATETIME"><span class="nav-number">1.6.1.</span> <span class="nav-text">1. TIMESTAMP和DATETIME</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%BE%AE%E7%A7%92"><span class="nav-number">1.6.2.</span> <span class="nav-text">2. 微秒</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"><span class="nav-number">1.6.3.</span> <span class="nav-text">3. 时间函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%AD%97%E6%AE%B5%E6%9B%B4%E6%96%B0%E6%97%B6%E9%97%B4"><span class="nav-number">1.6.4.</span> <span class="nav-text">4. 字段更新时间</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="BKing"
      src="/images/avatat.png">
  <p class="site-author-name" itemprop="name">BKing</p>
  <div class="site-description" itemprop="description">记录 Book</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
        
          <span class="site-state-item-count">128</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/BKing2020" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;BKing2020" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/Bking60447128" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;Bking60447128" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        


<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020-11</span>
  <span class="with-love">
    <i class="fa fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">BKing</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">690k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">10:27</span>
</div>

<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("11/17/2020 15:54:40");//此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "本站已运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
setInterval("createtime()",250);
</script>
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.4' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false}});</script></body>

</html>


